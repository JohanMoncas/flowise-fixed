import{P as p,R as E,r as t,j as s,B as T,T as N,aD as d,w as O}from"./index-gS4G3Zvm.js";import{D as B}from"./Dropdown-Pxw99ybs.js";import{M as A}from"./MultiDropdown-l8yKJNGl.js";import{C as F,A as R}from"./CredentialInputHandler-DLneV5-k.js";import{I as J}from"./Input-VmClTvg5.js";import{D as b,M as z,E as W}from"./ManageScrapedLinksDialog-BCRwQYUt.js";import{F as G}from"./File-Bk6PFwL_.js";import{I as H,a as _,S as q,J as K}from"./CredentialListDialog-whgYGMZs.js";import{a as Q}from"./TooltipWithParser-QjR1RSOD.js";import{C as U}from"./CodeEditor-DHC33Fid.js";import{I as f}from"./IconSearch-bTWMcRjI.js";import{I as V}from"./nodes-D-c9NxXo.js";const X=({inputParam:e,data:o,disabled:l=!1})=>{var x;const g=E(n=>n.customization),[y,r]=t.useState(!1),[j,S]=t.useState({}),[D,c]=t.useState(!1),[w,a]=t.useState({}),[v,C]=t.useState(Date.now().toString()),k=(n,i)=>{S({value:n,inputParam:i,disabled:l,confirmButtonName:"Save",cancelButtonName:"Cancel"}),r(!0)},m=(n,i,h,M)=>{a({url:n,relativeLinksMethod:h,limit:M,selectedLinks:i,confirmButtonName:"Save",cancelButtonName:"Cancel"}),c(!0)},u=(n,i)=>{c(!1),o.inputs.url=n,o.inputs.selectedLinks=i},I=(n,i)=>{r(!1),o.inputs[i]=n},L=()=>{const n=o.inputs.credential||o.inputs[d];return n?{credential:n}:{}};return s.jsxs("div",{children:[e&&s.jsx(s.Fragment,{children:s.jsxs(T,{sx:{p:2},children:[s.jsxs("div",{style:{display:"flex",flexDirection:"row"},children:[s.jsxs(N,{children:[e.label,!e.optional&&s.jsx("span",{style:{color:"red"},children:"Â *"}),e.description&&s.jsx(Q,{style:{marginLeft:10},title:e.description})]}),s.jsx("div",{style:{flexGrow:1}}),(e.type==="string"&&e.rows||e.type==="code")&&s.jsx(f,{size:"small",sx:{height:25,width:25},title:"Expand",color:"primary",onClick:()=>k(o.inputs[e.name]??e.default??"",e),children:s.jsx(H,{})})]}),e.warning&&s.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",borderRadius:10,background:"rgb(254,252,191)",padding:10,marginTop:10,marginBottom:10},children:[s.jsx(_,{size:30,color:"orange"}),s.jsx("span",{style:{color:"rgb(116,66,16)",marginLeft:10},children:e.warning})]}),e.type==="credential"&&s.jsx(F,{disabled:l,data:L(),inputParam:e,onSelect:n=>{o.credential=n,o.inputs[d]=n}},JSON.stringify(e)),e.type==="file"&&s.jsx(G,{disabled:l,fileType:e.fileType||"*",onChange:n=>o.inputs[e.name]=n,value:o.inputs[e.name]??e.default??"Choose a file to upload"}),e.type==="boolean"&&s.jsx(q,{disabled:l,onChange:n=>o.inputs[e.name]=n,value:o.inputs[e.name]??e.default??!1}),e.type==="datagrid"&&s.jsx(b,{disabled:l,columns:e.datagrid,hideFooter:!0,rows:o.inputs[e.name]??JSON.stringify(e.default)??[],onChange:n=>o.inputs[e.name]=n}),e.type==="code"&&s.jsxs(s.Fragment,{children:[s.jsx("div",{style:{height:"5px"}}),s.jsx("div",{style:{height:e.rows?"100px":"200px"},children:s.jsx(U,{disabled:l,value:o.inputs[e.name]??e.default??"",height:e.rows?"100px":"200px",theme:g.isDarkMode?"dark":"light",lang:"js",placeholder:e.placeholder,onValueChange:n=>o.inputs[e.name]=n,basicSetup:{highlightActiveLine:!1,highlightActiveLineGutter:!1}})})]}),(e.type==="string"||e.type==="password"||e.type==="number")&&s.jsx(J,{disabled:l,inputParam:e,onChange:n=>o.inputs[e.name]=n,value:o.inputs[e.name]??e.default??"",nodeId:o.id},o.inputs[e.name]),e.type==="json"&&s.jsx(K,{disabled:l,onChange:n=>o.inputs[e.name]=n,value:o.inputs[e.name]??e.default??"",isDarkMode:g.isDarkMode}),e.type==="options"&&s.jsx(B,{disabled:l,name:e.name,options:e.options,onSelect:n=>o.inputs[e.name]=n,value:o.inputs[e.name]??e.default??"choose an option"},JSON.stringify(e)),e.type==="multiOptions"&&s.jsx(A,{disabled:l,name:e.name,options:e.options,onSelect:n=>o.inputs[e.name]=n,value:o.inputs[e.name]??e.default??"choose an option"},JSON.stringify(e)),(e.type==="asyncOptions"||e.type==="asyncMultiOptions")&&s.jsxs(s.Fragment,{children:[((x=o.inputParams)==null?void 0:x.length)===1&&s.jsx("div",{style:{marginTop:10}}),s.jsxs("div",{style:{display:"flex",flexDirection:"row"},children:[s.jsx("div",{style:{flex:1},children:s.jsx(R,{disabled:l,name:e.name,nodeData:o,freeSolo:e.freeSolo,multiple:e.type==="asyncMultiOptions",value:o.inputs[e.name]??e.default??"choose an option",onSelect:n=>o.inputs[e.name]=n,onCreateNew:()=>addAsyncOption(e.name)},JSON.stringify(e))},v),e.refresh&&s.jsx(f,{title:"Refresh",color:"primary",size:"small",onClick:()=>C(Date.now().toString()),children:s.jsx(V,{})})]})]}),(o.name==="cheerioWebScraper"||o.name==="puppeteerWebScraper"||o.name==="playwrightWebScraper")&&e.name==="url"&&s.jsxs(s.Fragment,{children:[s.jsx(O,{style:{display:"flex",flexDirection:"row",width:"100%"},disabled:l,sx:{borderRadius:"12px",width:"100%",mt:1},variant:"outlined",onClick:()=>m(o.inputs[e.name]??e.default??"",o.inputs.selectedLinks,o.inputs.relativeLinksMethod??"webCrawl",parseInt(o.inputs.limit)??0),children:"Manage Links"}),s.jsx(z,{show:D,dialogProps:w,onCancel:()=>c(!1),onSave:u})]})]})}),s.jsx(W,{show:y,dialogProps:j,onCancel:()=>r(!1),onConfirm:(n,i)=>I(n,i)})]})};X.propTypes={inputParam:p.object,data:p.object,disabled:p.bool};export{X as D};
