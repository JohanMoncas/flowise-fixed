/*! For license information please see bundle.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Apify=t():e.Apify=t()}(self,(()=>(()=>{var e={169:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BuildCollectionClient=void 0;const n=r(1635).__importDefault(r(4980)),a=r(6903);class BuildCollectionClient extends a.ResourceCollectionClient{constructor(e){super({...e,resourcePath:e.resourcePath||"actor-builds"})}async list(e={}){return(0,n.default)(e,n.default.object.exactShape({limit:n.default.optional.number,offset:n.default.optional.number,desc:n.default.optional.boolean})),this._list(e)}}t.BuildCollectionClient=BuildCollectionClient},182:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.responseInterceptors=t.requestInterceptors=t.InvalidResponseBodyError=void 0;const n=r(1635),a=n.__importStar(r(6425)),o=n.__importDefault(r(8597)),i=r(1446),s=r(6185);class InvalidResponseBodyError extends Error{constructor(e,t){super(`Response body could not be parsed.\nCause:${t.message}`),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"response",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=this.constructor.name,this.code="invalid-response-body",this.response=e,this.cause=t}}t.InvalidResponseBodyError=InvalidResponseBodyError,t.requestInterceptors=[async function(e){var t,r;if(null===(t=e.headers)||void 0===t?void 0:t["content-encoding"])return e;const n=await(0,s.maybeGzipValue)(e.data);return n&&(null!==(r=e.headers)&&void 0!==r||(e.headers={}),e.headers["content-encoding"]="gzip",e.data=n),e},function(e){var t,r;const[n]=a.default.defaults.transformRequest,i=n(e.data,e.headers);if(e.stringifyFunctions){const n=(null===(t=e.headers)||void 0===t?void 0:t["Content-Type"])||(null===(r=e.headers)||void 0===r?void 0:r["content-type"]);try{const{type:t}=o.default.parse(n);"application/json"===t&&"object"==typeof e.data?e.data=(s=e.data,JSON.stringify(s,((e,t)=>"function"==typeof t?t.toString():t))):e.data=i}catch{e.data=i}}else e.data=i;var s;return e},function(e){return!e.headers||e.headers instanceof a.AxiosHeaders||Object.setPrototypeOf(e.headers,a.AxiosHeaders.prototype),e}],t.responseInterceptors=[function(e){if(!e.data||"arraybuffer"!==e.config.responseType||e.config.forceBuffer)return e;if((0,s.isNode)()?!e.data.length:!e.data.byteLength)return e.data=void 0,e;const t=e.headers["content-type"];try{e.data=(0,i.maybeParseBody)(e.data,t)}catch(t){throw new InvalidResponseBodyError(e,t)}return e}]},302:e=>{"use strict";e.exports=function(e){return!isNaN(Date.parse(e))}},313:(e,t,r)=>{"use strict";var n=r(5606);const a=/[\u001b\u009b][[\]#;?()]*(?:(?:(?:[^\W_]*;?[^\W_]*)\u0007)|(?:(?:[0-9]{1,4}(;[0-9]{0,4})*)?[~0-9=<>cf-nqrtyA-PRZ]))/g,o=()=>{const e={enabled:void 0!==n&&"0"!==n.env.FORCE_COLOR,visible:!0,styles:{},keys:{}},t=(e,t,r)=>"function"==typeof e?e(t):e.wrap(t,r),o=(r,n)=>{if(""===r||null==r)return"";if(!1===e.enabled)return r;if(!1===e.visible)return"";let a=""+r,o=a.includes("\n"),i=n.length;for(i>0&&n.includes("unstyle")&&(n=[...new Set(["unstyle",...n])].reverse());i-- >0;)a=t(e.styles[n[i]],a,o);return a},i=(t,r,n)=>{e.styles[t]=(e=>{let t=e.open=`[${e.codes[0]}m`,r=e.close=`[${e.codes[1]}m`,n=e.regex=new RegExp(`\\u001b\\[${e.codes[1]}m`,"g");return e.wrap=(e,a)=>{e.includes(r)&&(e=e.replace(n,r+t));let o=t+e+r;return a?o.replace(/\r*\n/g,`${r}$&${t}`):o},e})({name:t,codes:r}),(e.keys[n]||(e.keys[n]=[])).push(t),Reflect.defineProperty(e,t,{configurable:!0,enumerable:!0,set(r){e.alias(t,r)},get(){let r=e=>o(e,r.stack);return Reflect.setPrototypeOf(r,e),r.stack=this.stack?this.stack.concat(t):[t],r}})};return i("reset",[0,0],"modifier"),i("bold",[1,22],"modifier"),i("dim",[2,22],"modifier"),i("italic",[3,23],"modifier"),i("underline",[4,24],"modifier"),i("inverse",[7,27],"modifier"),i("hidden",[8,28],"modifier"),i("strikethrough",[9,29],"modifier"),i("black",[30,39],"color"),i("red",[31,39],"color"),i("green",[32,39],"color"),i("yellow",[33,39],"color"),i("blue",[34,39],"color"),i("magenta",[35,39],"color"),i("cyan",[36,39],"color"),i("white",[37,39],"color"),i("gray",[90,39],"color"),i("grey",[90,39],"color"),i("bgBlack",[40,49],"bg"),i("bgRed",[41,49],"bg"),i("bgGreen",[42,49],"bg"),i("bgYellow",[43,49],"bg"),i("bgBlue",[44,49],"bg"),i("bgMagenta",[45,49],"bg"),i("bgCyan",[46,49],"bg"),i("bgWhite",[47,49],"bg"),i("blackBright",[90,39],"bright"),i("redBright",[91,39],"bright"),i("greenBright",[92,39],"bright"),i("yellowBright",[93,39],"bright"),i("blueBright",[94,39],"bright"),i("magentaBright",[95,39],"bright"),i("cyanBright",[96,39],"bright"),i("whiteBright",[97,39],"bright"),i("bgBlackBright",[100,49],"bgBright"),i("bgRedBright",[101,49],"bgBright"),i("bgGreenBright",[102,49],"bgBright"),i("bgYellowBright",[103,49],"bgBright"),i("bgBlueBright",[104,49],"bgBright"),i("bgMagentaBright",[105,49],"bgBright"),i("bgCyanBright",[106,49],"bgBright"),i("bgWhiteBright",[107,49],"bgBright"),e.ansiRegex=a,e.hasColor=e.hasAnsi=t=>(e.ansiRegex.lastIndex=0,"string"==typeof t&&""!==t&&e.ansiRegex.test(t)),e.alias=(t,r)=>{let n="string"==typeof r?e[r]:r;if("function"!=typeof n)throw new TypeError("Expected alias to be the name of an existing color (string) or a function");n.stack||(Reflect.defineProperty(n,"name",{value:t}),e.styles[t]=n,n.stack=[t]),Reflect.defineProperty(e,t,{configurable:!0,enumerable:!0,set(r){e.alias(t,r)},get(){let t=e=>o(e,t.stack);return Reflect.setPrototypeOf(t,e),t.stack=this.stack?this.stack.concat(n.stack):n.stack,t}})},e.theme=t=>{if(null===(r=t)||"object"!=typeof r||Array.isArray(r))throw new TypeError("Expected theme to be an object");var r;for(let r of Object.keys(t))e.alias(r,t[r]);return e},e.alias("unstyle",(t=>"string"==typeof t&&""!==t?(e.ansiRegex.lastIndex=0,t.replace(e.ansiRegex,"")):"")),e.alias("noop",(e=>e)),e.none=e.clear=e.noop,e.stripColor=e.unstyle,e.symbols=r(9904),e.define=i,e};e.exports=o(),e.exports.create=o},537:(e,t,r)=>{var n=r(5606),a=/%[sdj%]/g;t.format=function(e){if(!g(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(s(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,o=n.length,i=String(e).replace(a,(function(e){if("%%"===e)return"%";if(r>=o)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}})),l=n[r];r<o;l=n[++r])y(l)||!E(l)?i+=" "+l:i+=" "+s(l);return i},t.deprecate=function(e,r){if(_(global.process))return function(){return t.deprecate(e,r).apply(this,arguments)};if(!0===n.noDeprecation)return e;var a=!1;return function(){if(!a){if(n.throwDeprecation)throw new Error(r);n.traceDeprecation?console.trace(r):console.error(r),a=!0}return e.apply(this,arguments)}};var o,i={};function s(e,r){var n={seen:[],stylize:u};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),h(r)?n.showHidden=r:r&&t._extend(n,r),_(n.showHidden)&&(n.showHidden=!1),_(n.depth)&&(n.depth=2),_(n.colors)&&(n.colors=!1),_(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=l),c(n,e,n.depth)}function l(e,t){var r=s.styles[t];return r?"["+s.colors[r][0]+"m"+e+"["+s.colors[r][1]+"m":e}function u(e,t){return e}function c(e,r,n){if(e.customInspect&&r&&A(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var a=r.inspect(n,e);return g(a)||(a=c(e,a,n)),a}var o=function(e,t){if(_(t))return e.stylize("undefined","undefined");if(g(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(m(t))return e.stylize(""+t,"number");if(h(t))return e.stylize(""+t,"boolean");if(y(t))return e.stylize("null","null")}(e,r);if(o)return o;var i=Object.keys(r),s=function(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}(i);if(e.showHidden&&(i=Object.getOwnPropertyNames(r)),O(r)&&(i.indexOf("message")>=0||i.indexOf("description")>=0))return d(r);if(0===i.length){if(A(r)){var l=r.name?": "+r.name:"";return e.stylize("[Function"+l+"]","special")}if(b(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(v(r))return e.stylize(Date.prototype.toString.call(r),"date");if(O(r))return d(r)}var u,E="",S=!1,T=["{","}"];(p(r)&&(S=!0,T=["[","]"]),A(r))&&(E=" [Function"+(r.name?": "+r.name:"")+"]");return b(r)&&(E=" "+RegExp.prototype.toString.call(r)),v(r)&&(E=" "+Date.prototype.toUTCString.call(r)),O(r)&&(E=" "+d(r)),0!==i.length||S&&0!=r.length?n<0?b(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special"):(e.seen.push(r),u=S?function(e,t,r,n,a){for(var o=[],i=0,s=t.length;i<s;++i)w(t,String(i))?o.push(f(e,t,r,n,String(i),!0)):o.push("");return a.forEach((function(a){a.match(/^\d+$/)||o.push(f(e,t,r,n,a,!0))})),o}(e,r,n,s,i):i.map((function(t){return f(e,r,n,s,t,S)})),e.seen.pop(),function(e,t,r){var n=e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0);if(n>60)return r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1];return r[0]+t+" "+e.join(", ")+" "+r[1]}(u,E,T)):T[0]+E+T[1]}function d(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,r,n,a,o){var i,s,l;if((l=Object.getOwnPropertyDescriptor(t,a)||{value:t[a]}).get?s=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(s=e.stylize("[Setter]","special")),w(n,a)||(i="["+a+"]"),s||(e.seen.indexOf(l.value)<0?(s=y(r)?c(e,l.value,null):c(e,l.value,r-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),_(i)){if(o&&a.match(/^\d+$/))return s;(i=JSON.stringify(""+a)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(i=i.substr(1,i.length-2),i=e.stylize(i,"name")):(i=i.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),i=e.stylize(i,"string"))}return i+": "+s}function p(e){return Array.isArray(e)}function h(e){return"boolean"==typeof e}function y(e){return null===e}function m(e){return"number"==typeof e}function g(e){return"string"==typeof e}function _(e){return void 0===e}function b(e){return E(e)&&"[object RegExp]"===S(e)}function E(e){return"object"==typeof e&&null!==e}function v(e){return E(e)&&"[object Date]"===S(e)}function O(e){return E(e)&&("[object Error]"===S(e)||e instanceof Error)}function A(e){return"function"==typeof e}function S(e){return Object.prototype.toString.call(e)}function T(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(_(o)&&(o=n.env.NODE_DEBUG||""),e=e.toUpperCase(),!i[e])if(new RegExp("\\b"+e+"\\b","i").test(o)){var r=n.pid;i[e]=function(){var n=t.format.apply(t,arguments);console.error("%s %d: %s",e,r,n)}}else i[e]=function(){};return i[e]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=p,t.isBoolean=h,t.isNull=y,t.isNullOrUndefined=function(e){return null==e},t.isNumber=m,t.isString=g,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=_,t.isRegExp=b,t.isObject=E,t.isDate=v,t.isError=O,t.isFunction=A,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=r(1135);var R=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function w(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){var e,r;console.log("%s - %s",(e=new Date,r=[T(e.getHours()),T(e.getMinutes()),T(e.getSeconds())].join(":"),[e.getDate(),R[e.getMonth()],r].join(" ")),t.format.apply(t,arguments))},t.inherits=r(6622),t._extend=function(e,t){if(!t||!E(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}},658:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RequestQueueCollectionClient=void 0;const n=r(1635).__importDefault(r(4980)),a=r(6903);class RequestQueueCollectionClient extends a.ResourceCollectionClient{constructor(e){super({resourcePath:"request-queues",...e})}async list(e={}){return(0,n.default)(e,n.default.object.exactShape({unnamed:n.default.optional.boolean,limit:n.default.optional.number,offset:n.default.optional.number,desc:n.default.optional.boolean})),this._list(e)}async getOrCreate(e){return(0,n.default)(e,n.default.optional.string),this._getOrCreate(e)}}t.RequestQueueCollectionClient=RequestQueueCollectionClient},751:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ApifyApiError=void 0;const n=r(1446),a=r(6185),o=/at( async)? ([A-Za-z]+(Collection)?Client)\._?([A-Za-z]+) \(/;class ApifyApiError extends Error{constructor(e,t){var r;let o,i,s,l=e.data;if((0,a.isBuffer)(l))try{l=JSON.parse((0,n.isomorphicBufferToString)(e.data,"utf-8"))}catch(e){}if(l&&l.error){const{error:e}=l;o=e.message,i=e.type,s=e.data}else if(l){let e;try{e=JSON.stringify(l,null,2)}catch(t){e=`${l}`}o=`Unexpected error: ${e}`}super(o),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientMethod",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"statusCode",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"attempt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"httpMethod",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"path",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"originalStack",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=this.constructor.name,this.clientMethod=this._extractClientAndMethodFromStack(),this.statusCode=e.status,this.type=i,this.attempt=t,this.httpMethod=null===(r=e.config)||void 0===r?void 0:r.method,this.path=this._safelyParsePathFromResponse(e);const u=this.stack;this.originalStack=u.slice(u.indexOf("\n")),this.stack=this._createApiStack(),this.data=s}_safelyParsePathFromResponse(e){var t;const r=null===(t=e.config)||void 0===t?void 0:t.url;let n;try{n=new URL(r)}catch{return r}return n.pathname+n.search}_extractClientAndMethodFromStack(){const e=this.stack.match(o);return e?`${e[2]}.${e[4]}`:"unknown"}_createApiStack(){const{name:e,...t}=this,r=Object.entries(t).map((([e,t])=>("originalStack"===e&&(e="stack"),`  ${e}: ${t}`))).join("\n");return`${e}: ${this.message}\n${r}`}}t.ApifyApiError=ApifyApiError},1021:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TaskClient=void 0;const n=r(1635).__importDefault(r(4980)),a=r(9666),o=r(3411),i=r(9734),s=r(1626),l=r(4810),u=r(6185);class TaskClient extends l.ResourceClient{constructor(e){super({resourcePath:"actor-tasks",...e})}async get(){return this._get()}async update(e){return(0,n.default)(e,n.default.object),this._update(e)}async delete(){return this._delete()}async start(e,t={}){(0,n.default)(e,n.default.optional.object),(0,n.default)(t,n.default.object.exactShape({build:n.default.optional.string,memory:n.default.optional.number,timeout:n.default.optional.number,waitForFinish:n.default.optional.number,webhooks:n.default.optional.array.ofType(n.default.object),maxItems:n.default.optional.number.not.negative,maxTotalChargeUsd:n.default.optional.number.not.negative}));const{waitForFinish:r,timeout:a,memory:o,build:i,maxItems:s,maxTotalChargeUsd:l}=t,c={waitForFinish:r,timeout:a,memory:o,build:i,webhooks:(0,u.stringifyWebhooksToBase64)(t.webhooks),maxItems:s,maxTotalChargeUsd:l},d={url:this._url("runs"),method:"POST",data:e,params:this._params(c),stringifyFunctions:!0,headers:{"Content-Type":"application/json"}},f=await this.httpClient.call(d);return(0,u.cast)((0,u.parseDateFields)((0,u.pluckData)(f.data)))}async call(e,t={}){(0,n.default)(e,n.default.optional.object),(0,n.default)(t,n.default.object.exactShape({build:n.default.optional.string,memory:n.default.optional.number,timeout:n.default.optional.number.not.negative,waitSecs:n.default.optional.number.not.negative,webhooks:n.default.optional.array.ofType(n.default.object),maxItems:n.default.optional.number.not.negative,maxTotalChargeUsd:n.default.optional.number.not.negative}));const{waitSecs:r,...a}=t,{id:o}=await this.start(e,a);return this.apifyClient.run(o).waitForFinish({waitSecs:r})}async getInput(){const e={url:this._url("input"),method:"GET",params:this._params()};try{const t=await this.httpClient.call(e);return(0,u.cast)(t.data)}catch(e){(0,u.catchNotFoundOrThrow)(e)}}async updateInput(e){const t=await this.httpClient.call({url:this._url("input"),method:"PUT",params:this._params(),data:e});return(0,u.cast)(t.data)}lastRun(e={}){return(0,n.default)(e,n.default.object.exactShape({status:n.default.optional.string.oneOf(Object.values(a.ACT_JOB_STATUSES)),origin:n.default.optional.string.oneOf(Object.values(a.META_ORIGINS))})),new o.RunClient(this._subResourceOptions({id:"last",params:this._params(e),resourcePath:"runs"}))}runs(){return new i.RunCollectionClient(this._subResourceOptions({resourcePath:"runs"}))}webhooks(){return new s.WebhookCollectionClient(this._subResourceOptions())}}t.TaskClient=TaskClient},1110:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NumberPredicate=void 0;const n=r(5864),a=r(1830);class NumberPredicate extends a.Predicate{constructor(e){super("number",e)}inRange(e,t){return this.addValidator({message:(r,n)=>`Expected ${n} to be in range [${e}..${t}], got ${r}`,validator:r=>n.default.inRange(r,[e,t])})}greaterThan(e){return this.addValidator({message:(t,r)=>`Expected ${r} to be greater than ${e}, got ${t}`,validator:t=>t>e})}greaterThanOrEqual(e){return this.addValidator({message:(t,r)=>`Expected ${r} to be greater than or equal to ${e}, got ${t}`,validator:t=>t>=e})}lessThan(e){return this.addValidator({message:(t,r)=>`Expected ${r} to be less than ${e}, got ${t}`,validator:t=>t<e})}lessThanOrEqual(e){return this.addValidator({message:(t,r)=>`Expected ${r} to be less than or equal to ${e}, got ${t}`,validator:t=>t<=e})}equal(e){return this.addValidator({message:(t,r)=>`Expected ${r} to be equal to ${e}, got ${t}`,validator:t=>t===e})}oneOf(e){return this.addValidator({message:(t,r)=>{let n=JSON.stringify(e);if(e.length>10){const t=e.length-10;n=JSON.stringify(e.slice(0,10)).replace(/]$/,`,…+${t} more]`)}return`Expected ${r} to be one of \`${n}\`, got ${t}`},validator:t=>e.includes(t)})}get integer(){return this.addValidator({message:(e,t)=>`Expected ${t} to be an integer, got ${e}`,validator:e=>n.default.integer(e)})}get finite(){return this.addValidator({message:(e,t)=>`Expected ${t} to be finite, got ${e}`,validator:e=>!n.default.infinite(e)})}get infinite(){return this.addValidator({message:(e,t)=>`Expected ${t} to be infinite, got ${e}`,validator:e=>n.default.infinite(e)})}get positive(){return this.addValidator({message:(e,t)=>`Expected ${t} to be positive, got ${e}`,validator:e=>e>0})}get negative(){return this.addValidator({message:(e,t)=>`Expected ${t} to be negative, got ${e}`,validator:e=>e<0})}get integerOrInfinite(){return this.addValidator({message:(e,t)=>`Expected ${t} to be an integer or infinite, got ${e}`,validator:e=>n.default.integer(e)||n.default.infinite(e)})}get uint8(){return this.integer.inRange(0,255)}get uint16(){return this.integer.inRange(0,65535)}get uint32(){return this.integer.inRange(0,4294967295)}get int8(){return this.integer.inRange(-128,127)}get int16(){return this.integer.inRange(-32768,32767)}get int32(){return this.integer.inRange(-2147483648,2147483647)}}t.NumberPredicate=NumberPredicate},1129:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataViewPredicate=void 0;const n=r(1830);class DataViewPredicate extends n.Predicate{constructor(e){super("DataView",e)}byteLength(e){return this.addValidator({message:(t,r)=>`Expected ${r} to have byte length of \`${e}\`, got \`${t.byteLength}\``,validator:t=>t.byteLength===e})}minByteLength(e){return this.addValidator({message:(t,r)=>`Expected ${r} to have a minimum byte length of \`${e}\`, got \`${t.byteLength}\``,validator:t=>t.byteLength>=e,negatedMessage:(t,r)=>`Expected ${r} to have a maximum byte length of \`${e-1}\`, got \`${t.byteLength}\``})}maxByteLength(e){return this.addValidator({message:(t,r)=>`Expected ${r} to have a maximum byte length of \`${e}\`, got \`${t.byteLength}\``,validator:t=>t.byteLength<=e,negatedMessage:(t,r)=>`Expected ${r} to have a minimum byte length of \`${e+1}\`, got \`${t.byteLength}\``})}}t.DataViewPredicate=DataViewPredicate},1135:e=>{e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},1384:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AnyPredicate=t.DataViewPredicate=t.ArrayBufferPredicate=t.TypedArrayPredicate=t.WeakSetPredicate=t.SetPredicate=t.WeakMapPredicate=t.MapPredicate=t.ErrorPredicate=t.DatePredicate=t.ObjectPredicate=t.ArrayPredicate=t.BooleanPredicate=t.BigIntPredicate=t.NumberPredicate=t.StringPredicate=void 0;const n=r(2478);Object.defineProperty(t,"StringPredicate",{enumerable:!0,get:function(){return n.StringPredicate}});const a=r(1110);Object.defineProperty(t,"NumberPredicate",{enumerable:!0,get:function(){return a.NumberPredicate}});const o=r(7128);Object.defineProperty(t,"BigIntPredicate",{enumerable:!0,get:function(){return o.BigIntPredicate}});const i=r(5679);Object.defineProperty(t,"BooleanPredicate",{enumerable:!0,get:function(){return i.BooleanPredicate}});const s=r(1830),l=r(2858);Object.defineProperty(t,"ArrayPredicate",{enumerable:!0,get:function(){return l.ArrayPredicate}});const u=r(1632);Object.defineProperty(t,"ObjectPredicate",{enumerable:!0,get:function(){return u.ObjectPredicate}});const c=r(7975);Object.defineProperty(t,"DatePredicate",{enumerable:!0,get:function(){return c.DatePredicate}});const d=r(1661);Object.defineProperty(t,"ErrorPredicate",{enumerable:!0,get:function(){return d.ErrorPredicate}});const f=r(9693);Object.defineProperty(t,"MapPredicate",{enumerable:!0,get:function(){return f.MapPredicate}});const p=r(1576);Object.defineProperty(t,"WeakMapPredicate",{enumerable:!0,get:function(){return p.WeakMapPredicate}});const h=r(9275);Object.defineProperty(t,"SetPredicate",{enumerable:!0,get:function(){return h.SetPredicate}});const y=r(9618);Object.defineProperty(t,"WeakSetPredicate",{enumerable:!0,get:function(){return y.WeakSetPredicate}});const m=r(8187);Object.defineProperty(t,"TypedArrayPredicate",{enumerable:!0,get:function(){return m.TypedArrayPredicate}});const g=r(4089);Object.defineProperty(t,"ArrayBufferPredicate",{enumerable:!0,get:function(){return g.ArrayBufferPredicate}});const _=r(1129);Object.defineProperty(t,"DataViewPredicate",{enumerable:!0,get:function(){return _.DataViewPredicate}});const b=r(6905);Object.defineProperty(t,"AnyPredicate",{enumerable:!0,get:function(){return b.AnyPredicate}}),t.default=(e,t)=>(Object.defineProperties(e,{string:{get:()=>new n.StringPredicate(t)},number:{get:()=>new a.NumberPredicate(t)},bigint:{get:()=>new o.BigIntPredicate(t)},boolean:{get:()=>new i.BooleanPredicate(t)},undefined:{get:()=>new s.Predicate("undefined",t)},null:{get:()=>new s.Predicate("null",t)},nullOrUndefined:{get:()=>new s.Predicate("nullOrUndefined",t)},nan:{get:()=>new s.Predicate("nan",t)},symbol:{get:()=>new s.Predicate("symbol",t)},array:{get:()=>new l.ArrayPredicate(t)},object:{get:()=>new u.ObjectPredicate(t)},date:{get:()=>new c.DatePredicate(t)},error:{get:()=>new d.ErrorPredicate(t)},map:{get:()=>new f.MapPredicate(t)},weakMap:{get:()=>new p.WeakMapPredicate(t)},set:{get:()=>new h.SetPredicate(t)},weakSet:{get:()=>new y.WeakSetPredicate(t)},function:{get:()=>new s.Predicate("Function",t)},buffer:{get:()=>new s.Predicate("Buffer",t)},regExp:{get:()=>new s.Predicate("RegExp",t)},promise:{get:()=>new s.Predicate("Promise",t)},typedArray:{get:()=>new m.TypedArrayPredicate("TypedArray",t)},int8Array:{get:()=>new m.TypedArrayPredicate("Int8Array",t)},uint8Array:{get:()=>new m.TypedArrayPredicate("Uint8Array",t)},uint8ClampedArray:{get:()=>new m.TypedArrayPredicate("Uint8ClampedArray",t)},int16Array:{get:()=>new m.TypedArrayPredicate("Int16Array",t)},uint16Array:{get:()=>new m.TypedArrayPredicate("Uint16Array",t)},int32Array:{get:()=>new m.TypedArrayPredicate("Int32Array",t)},uint32Array:{get:()=>new m.TypedArrayPredicate("Uint32Array",t)},float32Array:{get:()=>new m.TypedArrayPredicate("Float32Array",t)},float64Array:{get:()=>new m.TypedArrayPredicate("Float64Array",t)},arrayBuffer:{get:()=>new g.ArrayBufferPredicate("ArrayBuffer",t)},sharedArrayBuffer:{get:()=>new g.ArrayBufferPredicate("SharedArrayBuffer",t)},dataView:{get:()=>new _.DataViewPredicate(t)},iterable:{get:()=>new s.Predicate("Iterable",t)},any:{value:(...e)=>new b.AnyPredicate(e,t)}}),e)},1446:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.maybeParseBody=function(e,t){let r,l;try{const e=n.default.parse(t);r=e.type,l=e.parameters.charset}catch{return e}if(!function(e,t){return function(e){return!!e&&i.some((t=>t.test(e)))}(e)&&function(e){if(!e)return!0;if((0,a.isNode)())return Buffer.isEncoding(e);const t=e.toLowerCase().replace("-","");return"utf8"===t}(t)}(r,l))return e;const u=s(e,l);return r===o?JSON.parse(u):u},t.isomorphicBufferToString=s;const n=r(1635).__importDefault(r(8597)),a=r(6185),o="application/json",i=[new RegExp(`^${o}`,"i"),/^application\/.*xml$/i,/^text\//i];function s(e,t){if(e.constructor.name!==ArrayBuffer.name)return e.toString(t);return(new TextDecoder).decode(new Uint8Array(e))}},1576:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WeakMapPredicate=void 0;const n=r(3779),a=r(1830);class WeakMapPredicate extends a.Predicate{constructor(e){super("WeakMap",e)}hasKeys(...e){return this.addValidator({message:(e,t,r)=>`Expected ${t} to have keys \`${JSON.stringify(r)}\``,validator:t=>(0,n.default)(t,e)})}hasAnyKeys(...e){return this.addValidator({message:(t,r)=>`Expected ${r} to have any key of \`${JSON.stringify(e)}\``,validator:t=>e.some((e=>t.has(e)))})}}t.WeakMapPredicate=WeakMapPredicate},1626:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebhookCollectionClient=void 0;const n=r(1635).__importDefault(r(4980)),a=r(6903);class WebhookCollectionClient extends a.ResourceCollectionClient{constructor(e){super({resourcePath:"webhooks",...e})}async list(e={}){return(0,n.default)(e,n.default.object.exactShape({limit:n.default.optional.number,offset:n.default.optional.number,desc:n.default.optional.boolean})),this._list(e)}async create(e){return(0,n.default)(e,n.default.optional.object),this._create(e)}}t.WebhookCollectionClient=WebhookCollectionClient},1632:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ObjectPredicate=void 0;const n=r(5864),a=r(8486),o=r(8142),i=r(3779),s=r(6678),l=r(8921),u=r(4863),c=r(1830);class ObjectPredicate extends c.Predicate{constructor(e){super("object",e)}get plain(){return this.addValidator({message:(e,t)=>`Expected ${t} to be a plain object`,validator:e=>n.default.plainObject(e)})}get empty(){return this.addValidator({message:(e,t)=>`Expected ${t} to be empty, got \`${JSON.stringify(e)}\``,validator:e=>0===Object.keys(e).length})}get nonEmpty(){return this.addValidator({message:(e,t)=>`Expected ${t} to not be empty`,validator:e=>Object.keys(e).length>0})}valuesOfType(e){return this.addValidator({message:(e,t,r)=>`(${t}) ${r}`,validator:t=>(0,s.default)(Object.values(t),"values",e)})}deepValuesOfType(e){return this.addValidator({message:(e,t,r)=>`(${t}) ${r}`,validator:t=>(0,l.default)(t,e)})}deepEqual(e){return this.addValidator({message:(t,r)=>`Expected ${r} to be deeply equal to \`${JSON.stringify(e)}\`, got \`${JSON.stringify(t)}\``,validator:t=>o(t,e)})}instanceOf(e){return this.addValidator({message:(t,r)=>{var n;let{name:a}=null!==(n=null==t?void 0:t.constructor)&&void 0!==n?n:{};return a&&"Object"!==a||(a=JSON.stringify(t)),`Expected ${r} \`${a}\` to be of type \`${e.name}\``},validator:t=>t instanceof e})}hasKeys(...e){return this.addValidator({message:(e,t,r)=>`Expected ${t} to have keys \`${JSON.stringify(r)}\``,validator:t=>(0,i.default)({has:e=>a.has(t,e)},e)})}hasAnyKeys(...e){return this.addValidator({message:(t,r)=>`Expected ${r} to have any key of \`${JSON.stringify(e)}\``,validator:t=>e.some((e=>a.has(t,e)))})}partialShape(e){return this.addValidator({message:(e,t,r)=>`${r.replace("Expected","Expected property")} in ${t}`,validator:t=>(0,u.partial)(t,e)})}exactShape(e){return this.addValidator({message:(e,t,r)=>`${r.replace("Expected","Expected property")} in ${t}`,validator:t=>(0,u.exact)(t,e)})}}t.ObjectPredicate=ObjectPredicate},1635:(e,t,r)=>{"use strict";r.r(t),r.d(t,{__addDisposableResource:()=>U,__assign:()=>o,__asyncDelegator:()=>T,__asyncGenerator:()=>S,__asyncValues:()=>R,__await:()=>A,__awaiter:()=>h,__classPrivateFieldGet:()=>D,__classPrivateFieldIn:()=>L,__classPrivateFieldSet:()=>j,__createBinding:()=>m,__decorate:()=>s,__disposeResources:()=>$,__esDecorate:()=>u,__exportStar:()=>g,__extends:()=>a,__generator:()=>y,__importDefault:()=>I,__importStar:()=>x,__makeTemplateObject:()=>w,__metadata:()=>p,__param:()=>l,__propKey:()=>d,__read:()=>b,__rest:()=>i,__rewriteRelativeImportExtension:()=>M,__runInitializers:()=>c,__setFunctionName:()=>f,__spread:()=>E,__spreadArray:()=>O,__spreadArrays:()=>v,__values:()=>_,default:()=>F});var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)};function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var o=function(){return o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},o.apply(this,arguments)};function i(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}function s(e,t,r,n){var a,o=arguments.length,i=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(o<3?a(i):o>3?a(t,r,i):a(t,r))||i);return o>3&&i&&Object.defineProperty(t,r,i),i}function l(e,t){return function(r,n){t(r,n,e)}}function u(e,t,r,n,a,o){function i(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var s,l=n.kind,u="getter"===l?"get":"setter"===l?"set":"value",c=!t&&e?n.static?e:e.prototype:null,d=t||(c?Object.getOwnPropertyDescriptor(c,n.name):{}),f=!1,p=r.length-1;p>=0;p--){var h={};for(var y in n)h[y]="access"===y?{}:n[y];for(var y in n.access)h.access[y]=n.access[y];h.addInitializer=function(e){if(f)throw new TypeError("Cannot add initializers after decoration has completed");o.push(i(e||null))};var m=(0,r[p])("accessor"===l?{get:d.get,set:d.set}:d[u],h);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(s=i(m.get))&&(d.get=s),(s=i(m.set))&&(d.set=s),(s=i(m.init))&&a.unshift(s)}else(s=i(m))&&("field"===l?a.unshift(s):d[u]=s)}c&&Object.defineProperty(c,n.name,d),f=!0}function c(e,t,r){for(var n=arguments.length>2,a=0;a<t.length;a++)r=n?t[a].call(e,r):t[a].call(e);return n?r:void 0}function d(e){return"symbol"==typeof e?e:"".concat(e)}function f(e,t,r){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function p(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function h(e,t,r,n){return new(r||(r=Promise))((function(a,o){function i(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,s)}l((n=n.apply(e,t||[])).next())}))}function y(e,t){var r,n,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=s(0),i.throw=s(1),i.return=s(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(o=0)),o;)try{if(r=1,n&&(a=2&s[0]?n.return:s[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,s[1])).done)return a;switch(n=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,n=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){o.label=s[1];break}if(6===s[0]&&o.label<a[1]){o.label=a[1],a=s;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(s);break}a[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],n=0}finally{r=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}var m=Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]};function g(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||m(t,e,r)}function _(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function b(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,a,o=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)i.push(n.value)}catch(e){a={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(a)throw a.error}}return i}function E(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(b(arguments[t]));return e}function v(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),a=0;for(t=0;t<r;t++)for(var o=arguments[t],i=0,s=o.length;i<s;i++,a++)n[a]=o[i];return n}function O(e,t,r){if(r||2===arguments.length)for(var n,a=0,o=t.length;a<o;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))}function A(e){return this instanceof A?(this.v=e,this):new A(e)}function S(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,a=r.apply(e,t||[]),o=[];return n=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),i("next"),i("throw"),i("return",(function(e){return function(t){return Promise.resolve(t).then(e,u)}})),n[Symbol.asyncIterator]=function(){return this},n;function i(e,t){a[e]&&(n[e]=function(t){return new Promise((function(r,n){o.push([e,t,r,n])>1||s(e,t)}))},t&&(n[e]=t(n[e])))}function s(e,t){try{(r=a[e](t)).value instanceof A?Promise.resolve(r.value.v).then(l,u):c(o[0][2],r)}catch(e){c(o[0][3],e)}var r}function l(e){s("next",e)}function u(e){s("throw",e)}function c(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function T(e){var t,r;return t={},n("next"),n("throw",(function(e){throw e})),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,a){t[n]=e[n]?function(t){return(r=!r)?{value:A(e[n](t)),done:!1}:a?a(t):t}:a}}function R(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=_(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,a){(function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)})(n,a,(t=e[r](t)).done,t.value)}))}}}function w(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var P=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},C=function(e){return C=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},C(e)};function x(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=C(e),n=0;n<r.length;n++)"default"!==r[n]&&m(t,e,r[n]);return P(t,e),t}function I(e){return e&&e.__esModule?e:{default:e}}function D(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)}function j(e,t,r,n,a){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!a)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?a.call(e,r):a?a.value=r:t.set(e,r),r}function L(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)}function U(e,t,r){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var n,a;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(void 0===n){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(a=n)}if("function"!=typeof n)throw new TypeError("Object not disposable.");a&&(n=function(){try{a.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var N="function"==typeof SuppressedError?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function $(e){function t(t){e.error=e.hasError?new N(t,e.error,"An error was suppressed during disposal."):t,e.hasError=!0}var r,n=0;return function a(){for(;r=e.stack.pop();)try{if(!r.async&&1===n)return n=0,e.stack.push(r),Promise.resolve().then(a);if(r.dispose){var o=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(o).then(a,(function(e){return t(e),a()}))}else n|=1}catch(e){t(e)}if(1===n)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}()}function M(e,t){return"string"==typeof e&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,(function(e,r,n,a,o){return r?t?".jsx":".js":!n||a&&o?n+a+"."+o.toLowerCase()+"js":e})):e}const F={__extends:a,__assign:o,__rest:i,__decorate:s,__param:l,__esDecorate:u,__runInitializers:c,__propKey:d,__setFunctionName:f,__metadata:p,__awaiter:h,__generator:y,__createBinding:m,__exportStar:g,__values:_,__read:b,__spread:E,__spreadArrays:v,__spreadArray:O,__await:A,__asyncGenerator:S,__asyncDelegator:T,__asyncValues:R,__makeTemplateObject:w,__importStar:x,__importDefault:I,__classPrivateFieldGet:D,__classPrivateFieldSet:j,__classPrivateFieldIn:L,__addDisposableResource:U,__disposeResources:$,__rewriteRelativeImportExtension:M}},1661:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorPredicate=void 0;const n=r(1830);class ErrorPredicate extends n.Predicate{constructor(e){super("error",e)}name(e){return this.addValidator({message:(t,r)=>`Expected ${r} to have name \`${e}\`, got \`${t.name}\``,validator:t=>t.name===e})}message(e){return this.addValidator({message:(t,r)=>`Expected ${r} message to be \`${e}\`, got \`${t.message}\``,validator:t=>t.message===e})}messageIncludes(e){return this.addValidator({message:(t,r)=>`Expected ${r} message to include \`${e}\`, got \`${t.message}\``,validator:t=>t.message.includes(e)})}hasKeys(...e){return this.addValidator({message:(t,r)=>`Expected ${r} message to have keys \`${e.join("`, `")}\``,validator:t=>e.every((e=>Object.prototype.hasOwnProperty.call(t,e)))})}instanceOf(e){return this.addValidator({message:(t,r)=>`Expected ${r} \`${t.name}\` to be of type \`${e.name}\``,validator:t=>t instanceof e})}get typeError(){return this.instanceOf(TypeError)}get evalError(){return this.instanceOf(EvalError)}get rangeError(){return this.instanceOf(RangeError)}get referenceError(){return this.instanceOf(ReferenceError)}get syntaxError(){return this.instanceOf(SyntaxError)}get uriError(){return this.instanceOf(URIError)}}t.ErrorPredicate=ErrorPredicate},1693:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorEnvVarClient=void 0;const n=r(1635).__importDefault(r(4980)),a=r(4810);class ActorEnvVarClient extends a.ResourceClient{constructor(e){super({resourcePath:"env-vars",...e})}async get(){return this._get()}async update(e){return(0,n.default)(e,n.default.object),this._update(e)}async delete(){return this._delete()}}t.ActorEnvVarClient=ActorEnvVarClient},1830:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Predicate=t.validatorSymbol=void 0;const n=r(5864),a=r(2202),o=r(6931),i=r(7006),s=r(5810);t.validatorSymbol=Symbol("validators");class Predicate{constructor(e,t={}){Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"context",{enumerable:!0,configurable:!0,writable:!0,value:{validators:[]}}),this.context={...this.context,...this.options};const r=this.type.charAt(0).toLowerCase()+this.type.slice(1);this.addValidator({message:(e,t)=>`Expected ${(null==t?void 0:t.slice(this.type.length+1))||"argument"} to be of type \`${this.type}\` but received type \`${(0,n.default)(e)}\``,validator:e=>n.default[r](e)})}[i.testSymbol](e,t,r,o){const i=new Map;for(const{validator:t,message:a}of this.context.validators){if(!0===this.options.optional&&void 0===e)continue;let s;try{s=t(e)}catch(e){s=e}if(!0===s)continue;const l=n.default.function_(r)?r():r,u=l&&o?`\`${l}\``:l,c=u?`${this.type} ${u}`:this.type,d=l||this.type,f=i.get(d),p=a(e,c,s);f?f.add(p):i.set(d,new Set([p]))}if(i.size>0){const e=(0,s.generateArgumentErrorMessage)(i);throw new a.ArgumentError(e,t,i)}}get[t.validatorSymbol](){return this.context.validators}get not(){return(0,o.not)(this)}validate(e){return this.addValidator({message:(e,t,r)=>"string"==typeof r?`(${t}) ${r}`:r(t),validator:t=>{const{message:r,validator:n}=e(t);return!!n||r}})}is(e){return this.addValidator({message:(e,t,r)=>r?`(${t}) ${r}`:`Expected ${t} \`${e}\` to pass custom validation function`,validator:e})}message(e){const{validators:t}=this.context;return t[t.length-1].message=(t,r)=>"function"==typeof e?e(t,r):e,this}addValidator(e){return this.context.validators.push(e),this}}t.Predicate=Predicate},2026:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DownloadItemsFormat=t.DatasetClient=void 0;const n=r(1635).__importDefault(r(4980)),a=r(4810),o=r(6185);class DatasetClient extends a.ResourceClient{constructor(e){super({resourcePath:"datasets",...e})}async get(){return this._get()}async update(e){return(0,n.default)(e,n.default.object),this._update(e)}async delete(){return this._delete()}async listItems(e={}){var t;(0,n.default)(e,n.default.object.exactShape({clean:n.default.optional.boolean,desc:n.default.optional.boolean,flatten:n.default.optional.array.ofType(n.default.string),fields:n.default.optional.array.ofType(n.default.string),omit:n.default.optional.array.ofType(n.default.string),limit:n.default.optional.number,offset:n.default.optional.number,skipEmpty:n.default.optional.boolean,skipHidden:n.default.optional.boolean,unwind:n.default.optional.any(n.default.string,n.default.array.ofType(n.default.string)),view:n.default.optional.string}));const r=await this.httpClient.call({url:this._url("items"),method:"GET",params:this._params(e)});return this._createPaginationList(r,null!==(t=e.desc)&&void 0!==t&&t)}async downloadItems(e,t={}){(0,n.default)(e,n.default.string.oneOf(s)),(0,n.default)(t,n.default.object.exactShape({attachment:n.default.optional.boolean,bom:n.default.optional.boolean,clean:n.default.optional.boolean,delimiter:n.default.optional.string,desc:n.default.optional.boolean,flatten:n.default.optional.array.ofType(n.default.string),fields:n.default.optional.array.ofType(n.default.string),omit:n.default.optional.array.ofType(n.default.string),limit:n.default.optional.number,offset:n.default.optional.number,skipEmpty:n.default.optional.boolean,skipHeaderRow:n.default.optional.boolean,skipHidden:n.default.optional.boolean,unwind:n.default.any(n.default.optional.string,n.default.optional.array.ofType(n.default.string)),view:n.default.optional.string,xmlRoot:n.default.optional.string,xmlRow:n.default.optional.string}));const{data:r}=await this.httpClient.call({url:this._url("items"),method:"GET",params:this._params({format:e,...t}),forceBuffer:!0});return(0,o.cast)(r)}async pushItems(e){(0,n.default)(e,n.default.any(n.default.object,n.default.string,n.default.array.ofType(n.default.any(n.default.object,n.default.string)))),await this.httpClient.call({url:this._url("items"),method:"POST",headers:{"content-type":"application/json; charset=utf-8"},data:e,params:this._params(),doNotRetryTimeouts:!0})}async getStatistics(){const e={url:this._url("statistics"),method:"GET",params:this._params()};try{const t=await this.httpClient.call(e);return(0,o.cast)((0,o.pluckData)(t.data))}catch(e){(0,o.catchNotFoundOrThrow)(e)}}_createPaginationList(e,t){var r;return{items:e.data,total:Number(e.headers["x-apify-pagination-total"]),offset:Number(e.headers["x-apify-pagination-offset"]),count:e.data.length,limit:Number(e.headers["x-apify-pagination-limit"]),desc:JSON.parse(null!==(r=e.headers["x-apify-pagination-desc"])&&void 0!==r?r:t)}}}var i;t.DatasetClient=DatasetClient,function(e){e.JSON="json",e.JSONL="jsonl",e.XML="xml",e.HTML="html",e.CSV="csv",e.XLSX="xlsx",e.RSS="rss"}(i||(t.DownloadItemsFormat=i={}));const s=[...new Set(Object.values(i).map((e=>e.toLowerCase())))]},2070:(e,t,r)=>{"use strict";var n=r(5606);Object.defineProperty(t,"__esModule",{value:!0}),t.HttpClient=void 0;const a=r(1635),o=a.__importDefault(r(7952)),i=a.__importDefault(r(5592)),s=a.__importDefault(r(7336)),l=a.__importStar(r(6425)),u=r(9666),c=r(751),d=r(182),f=r(6185),{version:p}=(0,f.getVersionData)();t.HttpClient=class HttpClient{constructor(e){Object.defineProperty(this,"stats",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxRetries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"minDelayBetweenRetriesMillis",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"userProvidedRequestInterceptors",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"logger",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeoutMillis",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"httpAgent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"httpsAgent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"axios",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"workflowKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0});const{token:t}=e;if(this.stats=e.apifyClientStats,this.maxRetries=e.maxRetries,this.minDelayBetweenRetriesMillis=e.minDelayBetweenRetriesMillis,this.userProvidedRequestInterceptors=e.requestInterceptors,this.timeoutMillis=1e3*e.timeoutSecs,this.logger=e.logger,this.workflowKey=e.workflowKey||n.env[u.APIFY_ENV_VARS.WORKFLOW_KEY],this._onRequestRetry=this._onRequestRetry.bind(this),(0,f.isNode)()){const e={timeout:this.timeoutMillis};this.httpAgent=new i.default(e),this.httpsAgent=new i.default.HttpsAgent(e)}if(this.axios=l.default.create({httpAgent:this.httpAgent,httpsAgent:this.httpsAgent,paramsSerializer:e=>{const t=Object.entries(e).filter((([,e])=>void 0!==e)).map((([e,t])=>{const r="boolean"==typeof t?Number(t):t;return[e,String(r)]}));return new URLSearchParams(t).toString()},validateStatus:null,transformRequest:void 0,transformResponse:void 0,responseType:"arraybuffer",timeout:this.timeoutMillis,maxBodyLength:1/0,maxContentLength:-1}),this.axios.defaults.headers=new l.AxiosHeaders,this.workflowKey&&(this.axios.defaults.headers["X-Apify-Workflow-Key"]=this.workflowKey),(0,f.isNode)()){const t=!!n.env[u.APIFY_ENV_VARS.IS_AT_HOME];let r=`ApifyClient/${p} (${o.default.type()}; Node/${n.version}); isAtHome/${t}`;e.userAgentSuffix&&(r+=`; ${(0,f.asArray)(e.userAgentSuffix).join("; ")}`),this.axios.defaults.headers["User-Agent"]=r}t&&(this.axios.defaults.headers.Authorization=`Bearer ${t}`),d.requestInterceptors.forEach((e=>this.axios.interceptors.request.use(e))),this.userProvidedRequestInterceptors.forEach((e=>this.axios.interceptors.request.use(e))),d.responseInterceptors.forEach((e=>this.axios.interceptors.response.use(e)))}async call(e){this.stats.calls++;const t=this._createRequestHandler(e);return(0,s.default)(t,{retries:this.maxRetries,minTimeout:this.minDelayBetweenRetriesMillis,onRetry:this._onRequestRetry})}_informAboutStreamNoRetry(){this.logger.warningOnce("Request body was a stream - retrying will not work, as part of it was already consumed."),this.logger.warningOnce("If you want Apify client to handle retries for you, collect the stream into a buffer before sending it.")}_createRequestHandler(e){return async(t,r)=>{let n;this.stats.requests++;const a=(0,f.isStream)(e.data);try{if(a&&(e={...e,maxRedirects:0}),n=await this.axios.request(e),this._isStatusOk(n.status))return n}catch(r){return(0,f.cast)(this._handleRequestError(r,e,t))}429===n.status&&this.stats.addRateLimitError(r);const o=new c.ApifyApiError(n,r);if(this._isStatusCodeRetryable(n.status)){if(!a)throw o;this._informAboutStreamNoRetry()}return t(o),n}}_isStatusOk(e){return e<300}_handleRequestError(e,t,r){if(this._isTimeoutError(e)&&t.doNotRetryTimeouts)return r(e);if(this._isRetryableError(e)){if(!(0,f.isStream)(t.data))throw e;this._informAboutStreamNoRetry()}return r(e)}_isTimeoutError(e){return"ECONNABORTED"===e.code}_isRetryableError(e){return this._isNetworkError(e)||this._isResponseBodyInvalid(e)}_isResponseBodyInvalid(e){return e instanceof d.InvalidResponseBodyError}_isNetworkError(e){const t=e.request&&"object"==typeof e.request,r=e.config&&"object"==typeof e.config;return t&&r}_isStatusCodeRetryable(e){return 429===e||e>=500}_onRequestRetry(e,t){t===Math.round(this.maxRetries/2)&&this.logger.warning(`API request failed ${t} times. Max attempts: ${this.maxRetries+1}.\nCause:${e.stack}`)}}},2202:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArgumentError=void 0;const n=r(5450);class ArgumentError extends Error{constructor(e,t,r=new Map){var a,o;super(e),Object.defineProperty(this,"validationErrors",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="ArgumentError",Error.captureStackTrace?Error.captureStackTrace(this,t):this.stack=(a=this,o=(0,n.generateStackTrace)(),`${a.name}: ${a.message}\n${o}`),this.validationErrors=r}}t.ArgumentError=ArgumentError},2478:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StringPredicate=void 0;const n=r(5864),a=r(302),o=r(1830);class StringPredicate extends o.Predicate{constructor(e){super("string",e)}length(e){return this.addValidator({message:(t,r)=>`Expected ${r} to have length \`${e}\`, got \`${t}\``,validator:t=>t.length===e})}minLength(e){return this.addValidator({message:(t,r)=>`Expected ${r} to have a minimum length of \`${e}\`, got \`${t}\``,validator:t=>t.length>=e,negatedMessage:(t,r)=>`Expected ${r} to have a maximum length of \`${e-1}\`, got \`${t}\``})}maxLength(e){return this.addValidator({message:(t,r)=>`Expected ${r} to have a maximum length of \`${e}\`, got \`${t}\``,validator:t=>t.length<=e,negatedMessage:(t,r)=>`Expected ${r} to have a minimum length of \`${e+1}\`, got \`${t}\``})}matches(e){return this.addValidator({message:(t,r)=>`Expected ${r} to match \`${e}\`, got \`${t}\``,validator:t=>e.test(t)})}startsWith(e){return this.addValidator({message:(t,r)=>`Expected ${r} to start with \`${e}\`, got \`${t}\``,validator:t=>t.startsWith(e)})}endsWith(e){return this.addValidator({message:(t,r)=>`Expected ${r} to end with \`${e}\`, got \`${t}\``,validator:t=>t.endsWith(e)})}includes(e){return this.addValidator({message:(t,r)=>`Expected ${r} to include \`${e}\`, got \`${t}\``,validator:t=>t.includes(e)})}oneOf(e){return this.addValidator({message:(t,r)=>{let n=JSON.stringify(e);if(e.length>10){const t=e.length-10;n=JSON.stringify(e.slice(0,10)).replace(/]$/,`,…+${t} more]`)}return`Expected ${r} to be one of \`${n}\`, got \`${t}\``},validator:t=>e.includes(t)})}get empty(){return this.addValidator({message:(e,t)=>`Expected ${t} to be empty, got \`${e}\``,validator:e=>""===e})}get nonEmpty(){return this.addValidator({message:(e,t)=>`Expected ${t} to not be empty`,validator:e=>""!==e})}equals(e){return this.addValidator({message:(t,r)=>`Expected ${r} to be equal to \`${e}\`, got \`${t}\``,validator:t=>t===e})}get alphanumeric(){return this.addValidator({message:(e,t)=>`Expected ${t} to be alphanumeric, got \`${e}\``,validator:e=>/^[a-z\d]+$/i.test(e)})}get alphabetical(){return this.addValidator({message:(e,t)=>`Expected ${t} to be alphabetical, got \`${e}\``,validator:e=>/^[a-z]+$/gi.test(e)})}get numeric(){return this.addValidator({message:(e,t)=>`Expected ${t} to be numeric, got \`${e}\``,validator:e=>/^[+-]?\d+$/i.test(e)})}get date(){return this.addValidator({message:(e,t)=>`Expected ${t} to be a date, got \`${e}\``,validator:a})}get lowercase(){return this.addValidator({message:(e,t)=>`Expected ${t} to be lowercase, got \`${e}\``,validator:e=>""!==e.trim()&&e===e.toLowerCase()})}get uppercase(){return this.addValidator({message:(e,t)=>`Expected ${t} to be uppercase, got \`${e}\``,validator:e=>""!==e.trim()&&e===e.toUpperCase()})}get url(){return this.addValidator({message:(e,t)=>`Expected ${t} to be a URL, got \`${e}\``,validator:n.default.urlString})}}t.StringPredicate=StringPredicate},2531:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorClient=void 0;const n=r(1635).__importDefault(r(4980)),a=r(9666),o=r(4328),i=r(3683),s=r(169),l=r(3411),u=r(9734),c=r(1626),d=r(4810),f=r(6185);class ActorClient extends d.ResourceClient{constructor(e){super({resourcePath:"acts",...e})}async get(){return this._get()}async update(e){return(0,n.default)(e,n.default.object),this._update(e)}async delete(){return this._delete()}async start(e,t={}){(0,n.default)(t,n.default.object.exactShape({build:n.default.optional.string,contentType:n.default.optional.string,memory:n.default.optional.number,timeout:n.default.optional.number,waitForFinish:n.default.optional.number,webhooks:n.default.optional.array.ofType(n.default.object),maxItems:n.default.optional.number.not.negative,maxTotalChargeUsd:n.default.optional.number.not.negative}));const{waitForFinish:r,timeout:a,memory:o,build:i,maxItems:s,maxTotalChargeUsd:l}=t,u={waitForFinish:r,timeout:a,memory:o,build:i,webhooks:(0,f.stringifyWebhooksToBase64)(t.webhooks),maxItems:s,maxTotalChargeUsd:l},c={url:this._url("runs"),method:"POST",data:e,params:this._params(u),stringifyFunctions:!0};t.contentType&&(c.headers={"content-type":t.contentType});const d=await this.httpClient.call(c);return(0,f.cast)((0,f.parseDateFields)((0,f.pluckData)(d.data)))}async call(e,t={}){(0,n.default)(t,n.default.object.exactShape({build:n.default.optional.string,contentType:n.default.optional.string,memory:n.default.optional.number,timeout:n.default.optional.number.not.negative,waitSecs:n.default.optional.number.not.negative,webhooks:n.default.optional.array.ofType(n.default.object),maxItems:n.default.optional.number.not.negative,maxTotalChargeUsd:n.default.optional.number.not.negative}));const{waitSecs:r,...a}=t,{id:o}=await this.start(e,a);return this.apifyClient.run(o).waitForFinish({waitSecs:r})}async build(e,t={}){(0,n.default)(e,n.default.string),(0,n.default)(t,n.default.object.exactShape({betaPackages:n.default.optional.boolean,tag:n.default.optional.string,useCache:n.default.optional.boolean,waitForFinish:n.default.optional.number}));const r=await this.httpClient.call({url:this._url("builds"),method:"POST",params:this._params({version:e,...t})});return(0,f.cast)((0,f.parseDateFields)((0,f.pluckData)(r.data)))}lastRun(e={}){return(0,n.default)(e,n.default.object.exactShape({status:n.default.optional.string.oneOf(Object.values(a.ACT_JOB_STATUSES)),origin:n.default.optional.string.oneOf(Object.values(a.META_ORIGINS))})),new l.RunClient(this._subResourceOptions({id:"last",params:this._params(e),resourcePath:"runs"}))}builds(){return new s.BuildCollectionClient(this._subResourceOptions({resourcePath:"builds"}))}runs(){return new u.RunCollectionClient(this._subResourceOptions({resourcePath:"runs"}))}version(e){return(0,n.default)(e,n.default.string),new o.ActorVersionClient(this._subResourceOptions({id:e}))}versions(){return new i.ActorVersionCollectionClient(this._subResourceOptions())}webhooks(){return new c.WebhookCollectionClient(this._subResourceOptions())}}t.ActorClient=ActorClient},2655:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebhookClient=void 0;const n=r(1635).__importDefault(r(4980)),a=r(4371),o=r(4810),i=r(6185);class WebhookClient extends o.ResourceClient{constructor(e){super({resourcePath:"webhooks",...e})}async get(){return this._get()}async update(e){return(0,n.default)(e,n.default.object),this._update(e)}async delete(){return this._delete()}async test(){const e={url:this._url("test"),method:"POST",params:this._params()};try{const t=await this.httpClient.call(e);return(0,i.cast)((0,i.parseDateFields)((0,i.pluckData)(t.data)))}catch(e){(0,i.catchNotFoundOrThrow)(e)}}dispatches(){return new a.WebhookDispatchCollectionClient(this._subResourceOptions({resourcePath:"dispatches"}))}}t.WebhookClient=WebhookClient},2858:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArrayPredicate=void 0;const n=r(8142),a=r(1830),o=r(4863),i=r(6678);class ArrayPredicate extends a.Predicate{constructor(e){super("array",e)}length(e){return this.addValidator({message:(t,r)=>`Expected ${r} to have length \`${e}\`, got \`${t.length}\``,validator:t=>t.length===e})}minLength(e){return this.addValidator({message:(t,r)=>`Expected ${r} to have a minimum length of \`${e}\`, got \`${t.length}\``,validator:t=>t.length>=e,negatedMessage:(t,r)=>`Expected ${r} to have a maximum length of \`${e-1}\`, got \`${t.length}\``})}maxLength(e){return this.addValidator({message:(t,r)=>`Expected ${r} to have a maximum length of \`${e}\`, got \`${t.length}\``,validator:t=>t.length<=e,negatedMessage:(t,r)=>`Expected ${r} to have a minimum length of \`${e+1}\`, got \`${t.length}\``})}startsWith(e){return this.addValidator({message:(t,r)=>`Expected ${r} to start with \`${e}\`, got \`${t[0]}\``,validator:t=>t[0]===e})}endsWith(e){return this.addValidator({message:(t,r)=>`Expected ${r} to end with \`${e}\`, got \`${t[t.length-1]}\``,validator:t=>t[t.length-1]===e})}includes(...e){return this.addValidator({message:(t,r)=>`Expected ${r} to include all elements of \`${JSON.stringify(e)}\`, got \`${JSON.stringify(t)}\``,validator:t=>e.every((e=>t.includes(e)))})}includesAny(...e){return this.addValidator({message:(t,r)=>`Expected ${r} to include any element of \`${JSON.stringify(e)}\`, got \`${JSON.stringify(t)}\``,validator:t=>e.some((e=>t.includes(e)))})}get empty(){return this.addValidator({message:(e,t)=>`Expected ${t} to be empty, got \`${JSON.stringify(e)}\``,validator:e=>0===e.length})}get nonEmpty(){return this.addValidator({message:(e,t)=>`Expected ${t} to not be empty`,validator:e=>e.length>0})}deepEqual(e){return this.addValidator({message:(t,r)=>`Expected ${r} to be deeply equal to \`${JSON.stringify(e)}\`, got \`${JSON.stringify(t)}\``,validator:t=>n(t,e)})}ofType(e){return this.addValidator({message:(e,t,r)=>`(${t}) ${r}`,validator:t=>(0,i.default)(t,"values",e)})}exactShape(e){const t=e;return this.addValidator({message:(e,t,r)=>`${r.replace("Expected","Expected element")} in ${t}`,validator:e=>(0,o.exact)(e,t,void 0,!0)})}}t.ArrayPredicate=ArrayPredicate},3159:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RequestQueueClient=void 0;const n=r(1635),a=n.__importDefault(r(4980)),o=r(9666),i=n.__importDefault(r(4688)),s=r(4810),l=r(6185),u=5,c=3,d=500,f=1e3;class RequestQueueClient extends s.ResourceClient{constructor(e,t={}){super({resourcePath:"request-queues",...e}),Object.defineProperty(this,"clientKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeoutMillis",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.clientKey=t.clientKey,this.timeoutMillis=t.timeoutSecs?1e3*t.timeoutSecs:void 0}async get(){return this._get()}async update(e){return(0,a.default)(e,a.default.object),this._update(e)}async delete(){return this._delete()}async listHead(e={}){(0,a.default)(e,a.default.object.exactShape({limit:a.default.optional.number}));const t=await this.httpClient.call({url:this._url("head"),method:"GET",timeout:this.timeoutMillis,params:this._params({limit:e.limit,clientKey:this.clientKey})});return(0,l.cast)((0,l.parseDateFields)((0,l.pluckData)(t.data)))}async listAndLockHead(e){(0,a.default)(e,a.default.object.exactShape({lockSecs:a.default.number,limit:a.default.optional.number}));const t=await this.httpClient.call({url:this._url("head/lock"),method:"POST",timeout:this.timeoutMillis,params:this._params({limit:e.limit,lockSecs:e.lockSecs,clientKey:this.clientKey})});return(0,l.cast)((0,l.parseDateFields)((0,l.pluckData)(t.data)))}async addRequest(e,t={}){(0,a.default)(e,a.default.object.partialShape({id:a.default.undefined})),(0,a.default)(t,a.default.object.exactShape({forefront:a.default.optional.boolean}));const r=await this.httpClient.call({url:this._url("requests"),method:"POST",timeout:this.timeoutMillis,data:e,params:this._params({forefront:t.forefront,clientKey:this.clientKey})});return(0,l.cast)((0,l.parseDateFields)((0,l.pluckData)(r.data)))}async _batchAddRequests(e,t={}){(0,a.default)(e,a.default.array.ofType(a.default.object.partialShape({id:a.default.undefined})).minLength(1).maxLength(o.REQUEST_QUEUE_MAX_REQUESTS_PER_BATCH_OPERATION)),(0,a.default)(t,a.default.object.exactShape({forefront:a.default.optional.boolean}));const{data:r}=await this.httpClient.call({url:this._url("requests/batch"),method:"POST",timeout:this.timeoutMillis,data:e,params:this._params({forefront:t.forefront,clientKey:this.clientKey})});return(0,l.cast)((0,l.parseDateFields)((0,l.pluckData)(r)))}async _batchAddRequestsWithRetries(e,t={}){const{forefront:r,maxUnprocessedRequestsRetries:n=c,minDelayBetweenUnprocessedRequestsRetriesMillis:a=d}=t;let o=e;const s=[];let u=[];for(let t=0;t<1+n;t++){try{const n=await this._batchAddRequests(o,{forefront:r});s.push(...n.processedRequests),u=n.unprocessedRequests,0!==u.length&&this.httpClient.stats.addRateLimitError(t+1);const a=s.map((({uniqueKey:e})=>e));if(o=e.filter((({uniqueKey:e})=>!a.includes(e))),0===o.length)break}catch(t){i.default.exception(t,"Request batch insert failed");const r=s.map((({uniqueKey:e})=>e));u=e.filter((({uniqueKey:e})=>!r.includes(e))).map((({method:e,uniqueKey:t,url:r})=>({method:e,uniqueKey:t,url:r})));break}const n=Math.floor((1+Math.random())*2**t*a);await new Promise((e=>setTimeout(e,n)))}const f={processedRequests:s,unprocessedRequests:u};return(0,l.cast)((0,l.parseDateFields)(f))}async batchAddRequests(e,t={}){const{forefront:r,maxUnprocessedRequestsRetries:n=c,maxParallel:i=u,minDelayBetweenUnprocessedRequestsRetriesMillis:s=d}=t;(0,a.default)(e,a.default.array.ofType(a.default.object.partialShape({id:a.default.undefined})).minLength(1)),(0,a.default)(r,a.default.optional.boolean),(0,a.default)(n,a.default.optional.number),(0,a.default)(i,a.default.optional.number),(0,a.default)(s,a.default.optional.number);const f=new Set,p=[],h=o.MAX_PAYLOAD_SIZE_BYTES-Math.ceil(1e-4*o.MAX_PAYLOAD_SIZE_BYTES);let y=0;for(;y<e.length;){const r=e.slice(y,y+o.REQUEST_QUEUE_MAX_REQUESTS_PER_BATCH_OPERATION),n=(0,l.sliceArrayByByteLength)(r,h,y),a=this._batchAddRequestsWithRetries(n,t);f.add(a),a.then((e=>{f.delete(a),p.push(e)})),f.size>=i&&await Promise.race(f),y+=n.length}await Promise.all(f);const m={processedRequests:[],unprocessedRequests:[]};return p.forEach((({processedRequests:e,unprocessedRequests:t})=>{m.processedRequests.push(...e),m.unprocessedRequests.push(...t)})),m}async batchDeleteRequests(e){(0,a.default)(e,a.default.array.ofType(a.default.any(a.default.object.partialShape({id:a.default.string}),a.default.object.partialShape({uniqueKey:a.default.string}))).minLength(1).maxLength(o.REQUEST_QUEUE_MAX_REQUESTS_PER_BATCH_OPERATION));const{data:t}=await this.httpClient.call({url:this._url("requests/batch"),method:"DELETE",timeout:this.timeoutMillis,data:e,params:this._params({clientKey:this.clientKey})});return(0,l.cast)((0,l.parseDateFields)((0,l.pluckData)(t)))}async getRequest(e){(0,a.default)(e,a.default.string);const t={url:this._url(`requests/${e}`),method:"GET",timeout:this.timeoutMillis,params:this._params()};try{const e=await this.httpClient.call(t);return(0,l.cast)((0,l.parseDateFields)((0,l.pluckData)(e.data)))}catch(e){(0,l.catchNotFoundOrThrow)(e)}}async updateRequest(e,t={}){(0,a.default)(e,a.default.object.partialShape({id:a.default.string})),(0,a.default)(t,a.default.object.exactShape({forefront:a.default.optional.boolean}));const r=await this.httpClient.call({url:this._url(`requests/${e.id}`),method:"PUT",timeout:this.timeoutMillis,data:e,params:this._params({forefront:t.forefront,clientKey:this.clientKey})});return(0,l.cast)((0,l.parseDateFields)((0,l.pluckData)(r.data)))}async deleteRequest(e){(0,a.default)(e,a.default.string),await this.httpClient.call({url:this._url(`requests/${e}`),method:"DELETE",timeout:this.timeoutMillis,params:this._params({clientKey:this.clientKey})})}async prolongRequestLock(e,t){(0,a.default)(e,a.default.string),(0,a.default)(t,a.default.object.exactShape({lockSecs:a.default.number,forefront:a.default.optional.boolean}));const r=await this.httpClient.call({url:this._url(`requests/${e}/lock`),method:"PUT",timeout:this.timeoutMillis,params:this._params({forefront:t.forefront,lockSecs:t.lockSecs,clientKey:this.clientKey})});return(0,l.cast)((0,l.parseDateFields)((0,l.pluckData)(r.data)))}async deleteRequestLock(e,t={}){(0,a.default)(e,a.default.string),(0,a.default)(t,a.default.object.exactShape({forefront:a.default.optional.boolean})),await this.httpClient.call({url:this._url(`requests/${e}/lock`),method:"DELETE",timeout:this.timeoutMillis,params:this._params({forefront:t.forefront,clientKey:this.clientKey})})}async listRequests(e={}){(0,a.default)(e,a.default.object.exactShape({limit:a.default.optional.number,exclusiveStartId:a.default.optional.string}));const t=await this.httpClient.call({url:this._url("requests"),method:"GET",timeout:this.timeoutMillis,params:this._params({limit:e.limit,exclusiveStartId:e.exclusiveStartId,clientKey:this.clientKey})});return(0,l.cast)((0,l.parseDateFields)((0,l.pluckData)(t.data)))}paginateRequests(e={}){(0,a.default)(e,a.default.object.exactShape({limit:a.default.optional.number,maxPageLimit:a.default.optional.number,exclusiveStartId:a.default.optional.string}));const{limit:t,exclusiveStartId:r,maxPageLimit:n=f}=e;return new l.PaginationIterator({getPage:this.listRequests.bind(this),limit:t,exclusiveStartId:r,maxPageLimit:n})}}t.RequestQueueClient=RequestQueueClient},3195:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlatformFeature=t.UserClient=void 0;const n=r(4810),a=r(6185);class UserClient extends n.ResourceClient{constructor(e){super({resourcePath:"users",...e})}async get(){return this._get()}async monthlyUsage(){const e={url:this._url("usage/monthly"),method:"GET",params:this._params()};try{const t=await this.httpClient.call(e);return(0,a.cast)((0,a.parseDateFields)((0,a.pluckData)(t.data),(e=>"date"===e)))}catch(e){(0,a.catchNotFoundOrThrow)(e)}}async limits(){const e={url:this._url("limits"),method:"GET",params:this._params()};try{const t=await this.httpClient.call(e);return(0,a.cast)((0,a.parseDateFields)((0,a.pluckData)(t.data)))}catch(e){(0,a.catchNotFoundOrThrow)(e)}}async updateLimits(e){const t={url:this._url("limits"),method:"PUT",params:this._params(),data:e};await this.httpClient.call(t)}}var o;t.UserClient=UserClient,function(e){e.Actors="ACTORS",e.Storage="STORAGE",e.ProxySERPS="PROXY_SERPS",e.Scheduler="SCHEDULER",e.Webhooks="WEBHOOKS",e.Proxy="PROXY",e.ProxyExternalAccess="PROXY_EXTERNAL_ACCESS"}(o||(t.PlatformFeature=o={}))},3411:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RunClient=void 0;const n=r(1635).__importDefault(r(4980)),a=r(2026),o=r(8037),i=r(8488),s=r(3159),l=r(4810),u=r(6185),c="idempotency-key";class RunClient extends l.ResourceClient{constructor(e){super({...e,resourcePath:e.resourcePath||"actor-runs"})}async get(e={}){return(0,n.default)(e,n.default.object.exactShape({waitForFinish:n.default.optional.number})),this._get(e)}async abort(e={}){(0,n.default)(e,n.default.object.exactShape({gracefully:n.default.optional.boolean}));const t=await this.httpClient.call({url:this._url("abort"),method:"POST",params:this._params(e)});return(0,u.cast)((0,u.parseDateFields)((0,u.pluckData)(t.data)))}async delete(){return this._delete()}async metamorph(e,t,r={}){(0,n.default)(e,n.default.string),(0,n.default)(r,n.default.object.exactShape({contentType:n.default.optional.string,build:n.default.optional.string}));const a={targetActorId:this._toSafeId(e),build:r.build},o={url:this._url("metamorph"),method:"POST",data:t,params:this._params(a),stringifyFunctions:!0};r.contentType&&(o.headers={"content-type":r.contentType});const i=await this.httpClient.call(o);return(0,u.cast)((0,u.parseDateFields)((0,u.pluckData)(i.data)))}async reboot(){const e={url:this._url("reboot"),method:"POST"},t=await this.httpClient.call(e);return(0,u.cast)((0,u.parseDateFields)((0,u.pluckData)(t.data)))}async update(e){return(0,n.default)(e,n.default.object),this._update(e)}async resurrect(e={}){(0,n.default)(e,n.default.object.exactShape({build:n.default.optional.string,memory:n.default.optional.number,timeout:n.default.optional.number,maxItems:n.default.optional.number,maxTotalChargeUsd:n.default.optional.number}));const t=await this.httpClient.call({url:this._url("resurrect"),method:"POST",params:this._params(e)});return(0,u.cast)((0,u.parseDateFields)((0,u.pluckData)(t.data)))}async charge(e){var t,r;(0,n.default)(e,n.default.object.exactShape({eventName:n.default.string,count:n.default.optional.number,idempotencyKey:n.default.optional.string}));const a=null!==(t=e.count)&&void 0!==t?t:1,o=(Math.random()+1).toString(36).slice(3,8),i=null!==(r=e.idempotencyKey)&&void 0!==r?r:`${this.id}-${e.eventName}-${Date.now()}-${o}`,s={url:this._url("charge"),method:"POST",data:{eventName:e.eventName,count:a},headers:{[c]:i}};return await this.httpClient.call(s)}async waitForFinish(e={}){return(0,n.default)(e,n.default.object.exactShape({waitSecs:n.default.optional.number})),this._waitForFinish(e)}dataset(){return new a.DatasetClient(this._subResourceOptions({resourcePath:"dataset"}))}keyValueStore(){return new o.KeyValueStoreClient(this._subResourceOptions({resourcePath:"key-value-store"}))}requestQueue(){return new s.RequestQueueClient(this._subResourceOptions({resourcePath:"request-queue"}))}log(){return new i.LogClient(this._subResourceOptions({resourcePath:"log"}))}}t.RunClient=RunClient},3683:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorVersionCollectionClient=void 0;const n=r(1635).__importDefault(r(4980)),a=r(6903);class ActorVersionCollectionClient extends a.ResourceCollectionClient{constructor(e){super({resourcePath:"versions",...e})}async list(e={}){return(0,n.default)(e,n.default.object.exactShape({limit:n.default.optional.number,offset:n.default.optional.number,desc:n.default.optional.boolean})),this._list(e)}async create(e){return(0,n.default)(e,n.default.optional.object),this._create(e)}}t.ActorVersionCollectionClient=ActorVersionCollectionClient},3779:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=(e,t,r=5)=>{const n=[];for(const a of t)if(!e.has(a)&&(n.push(a),n.length===r))return n;return 0===n.length||n}},3791:e=>{"use strict";const t=()=>{const e=Error.prepareStackTrace;Error.prepareStackTrace=(e,t)=>t;const t=(new Error).stack.slice(1);return Error.prepareStackTrace=e,t};e.exports=t,e.exports.default=t},3961:e=>{function t(e,t){"boolean"==typeof t&&(t={forever:t}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=t||{},this._maxRetryTime=t&&t.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}e.exports=t,t.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},t.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},t.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var t=(new Date).getTime();if(e&&t-this._operationStart>=this._maxRetryTime)return this._errors.push(e),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var r=this._timeouts.shift();if(void 0===r){if(!this._cachedTimeouts)return!1;this._errors.splice(0,this._errors.length-1),r=this._cachedTimeouts.slice(-1)}var n=this;return this._timer=setTimeout((function(){n._attempts++,n._operationTimeoutCb&&(n._timeout=setTimeout((function(){n._operationTimeoutCb(n._attempts)}),n._operationTimeout),n._options.unref&&n._timeout.unref()),n._fn(n._attempts)}),r),this._options.unref&&this._timer.unref(),!0},t.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var r=this;this._operationTimeoutCb&&(this._timeout=setTimeout((function(){r._operationTimeoutCb()}),r._operationTimeout)),this._operationStart=(new Date).getTime(),this._fn(this._attempts)},t.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)},t.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)},t.prototype.start=t.prototype.try,t.prototype.errors=function(){return this._errors},t.prototype.attempts=function(){return this._attempts},t.prototype.mainError=function(){if(0===this._errors.length)return null;for(var e={},t=null,r=0,n=0;n<this._errors.length;n++){var a=this._errors[n],o=a.message,i=(e[o]||0)+1;e[o]=i,i>=r&&(t=a,r=i)}return t}},4089:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArrayBufferPredicate=void 0;const n=r(1830);class ArrayBufferPredicate extends n.Predicate{byteLength(e){return this.addValidator({message:(t,r)=>`Expected ${r} to have byte length of \`${e}\`, got \`${t.byteLength}\``,validator:t=>t.byteLength===e})}minByteLength(e){return this.addValidator({message:(t,r)=>`Expected ${r} to have a minimum byte length of \`${e}\`, got \`${t.byteLength}\``,validator:t=>t.byteLength>=e,negatedMessage:(t,r)=>`Expected ${r} to have a maximum byte length of \`${e-1}\`, got \`${t.byteLength}\``})}maxByteLength(e){return this.addValidator({message:(t,r)=>`Expected ${r} to have a maximum byte length of \`${e}\`, got \`${t.byteLength}\``,validator:t=>t.byteLength<=e,negatedMessage:(t,r)=>`Expected ${r} to have a minimum byte length of \`${e+1}\`, got \`${t.byteLength}\``})}}t.ArrayBufferPredicate=ArrayBufferPredicate},4108:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ApiClient=void 0;t.ApiClient=class ApiClient{constructor(e){Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"safeId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"baseUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"resourcePath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"apifyClient",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"httpClient",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0});const{baseUrl:t,apifyClient:r,httpClient:n,resourcePath:a,id:o,params:i={}}=e;this.id=o,this.safeId=o&&this._toSafeId(o),this.baseUrl=t,this.resourcePath=a,this.url=o?`${t}/${a}/${this.safeId}`:`${t}/${a}`,this.apifyClient=r,this.httpClient=n,this.params=i}_subResourceOptions(e){return{...{baseUrl:this._url(),apifyClient:this.apifyClient,httpClient:this.httpClient,params:this._params()},...e}}_url(e){return e?`${this.url}/${e}`:this.url}_params(e){return{...this.params,...e}}_toSafeId(e){retu